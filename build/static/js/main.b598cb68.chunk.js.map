{"version":3,"sources":["svgIcons/index.js","ImageEditor/transform.js","ImageEditor/index.js","demo.jpeg","App.js","index.js"],"names":["defaultIconConfig","size","fill","RotateLeft","props","config","t","viewBox","version","xmlns","p-id","width","height","d","Confirm","Close","Matrix3D","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","this","elements","window","Float32Array","te","undefined","observe","target","callback","i","len","length","watch","prop","Object","defineProperty","get","set","value","DEG_TO_RAD","Math","PI","prototype","identity","multiplyMatrices","a","be","ae","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","_rounded","pow","round","appendTransform","x","y","z","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ","rx","cosx","cos","sinx","sin","ry","cosy","siny","rz","cosz","sinz","setAsyncState","context","newState","Promise","resolve","setState","ImageEditor","state","imageUrl","isCapturing","imageRef","React","createRef","containerRef","captureContainerRef","imageInstance","domEvents","getDomEvents","customEvents","getCustomEvents","getImgaeInfo","url","initAlloyFingerImage","startsWith","reslove","img","Image","setAttribute","src","onload","canvas","document","createElement","getContext","drawImage","dataURL","toDataURL","element","current","mtx","matrix3D","translateX","translateY","translateZ","style","transform","msTransform","OTransform","MozTransform","webkitTransform","perspective","Array","slice","call","join","Transform","initScale","AlloyFinger","multipointStart","pinch","e","zoom","pressMove","deltaX","deltaY","preventDefault","handleOk","getCaptureData","data","onOk","handleCancel","onCancel","handleRotateLeft","handleReset","getCutContainerStyle","scrollingElement","scrollTop","elementContainer","elementCaptureContainer","getClientRects","rect","html2canvas","useCORS","logging","scale","allowTaint","foreignObjectRendering","pick","canvasDataUrl","className","classNames","ref","alt","onClick","Component","defaultProps","vConsole","avatar","AvatarImage","App","previewImageUrl","visibileModal","elementInputFile","body","removeChild","handleChangeImage","click","eInput","setStyle","visibility","setAttrs","type","name","accept","appendChild","addEventListener","changeImageListener","file","files","imgURL","URL","webkitURL","createObjectURL","showModal","title","bordered","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b598cb68.chunk.js","sourcesContent":["const defaultIconConfig = { size: 20, fill: '#fff' };\n\nexport const RotateLeft = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843032504\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"2822\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M682.569143 266.221714c25.709714 19.273143 52.297143 11.574857 52.297143-22.308571v-58.697143h1.28c93.001143 0 151.698286 64.292571 151.698285 155.995429 0 56.996571-17.554286 78.445714-18.834285 93.860571-0.438857 11.995429 3.84 19.291429 13.714285 24.009143 13.275429 6.418286 28.708571 0.420571 35.986286-12.013714 13.293714-22.710857 22.710857-60.416 22.710857-106.276572 0-122.569143-81.846857-205.293714-204.854857-205.293714h-1.718857V72.502857c0-34.706286-26.148571-42.422857-52.278857-22.710857L565.577143 135.497143c-19.712 14.573714-19.712 31.286857 0 45.44zM192.713143 993.938286h424.722286c73.270857 0 110.134857-35.145143 110.134857-110.153143v-423.862857c0-74.989714-36.864-110.134857-110.134857-110.134857H192.713143c-73.289143 0-110.134857 35.145143-110.134857 110.134857v423.862857c0 75.008 36.845714 110.153143 110.134857 110.153143z m1.28-69.010286c-29.129143 0-42.422857-11.995429-42.422857-42.422857v-421.302857c0-30.409143 13.293714-42.422857 42.422857-42.422857h422.144c29.568 0 42.422857 12.013714 42.422857 42.422857v421.302857c0 30.427429-12.854857 42.422857-42.422857 42.422857z\"\n                p-id=\"2823\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Confirm = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843505098\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"969\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M448 864a32 32 0 0 1-18.88-6.08l-320-234.24a32 32 0 1 1 37.76-51.52l292.16 213.44 397.76-642.56a32 32 0 0 1 54.4 33.92l-416 672a32 32 0 0 1-21.12 14.4L448 864z\"\n                p-id=\"970\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Close = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843652172\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"1154\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M810.666667 273.493333L750.506667 213.333333 512 451.84 273.493333 213.333333 213.333333 273.493333 451.84 512 213.333333 750.506667 273.493333 810.666667 512 572.16 750.506667 810.666667 810.666667 750.506667 572.16 512z\"\n                p-id=\"1155\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n","var Matrix3D = function(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n    this.elements = window.Float32Array ? new Float32Array(16) : [];\n    var te = this.elements;\n    te[0] = n11 !== undefined ? n11 : 1;\n    te[4] = n12 || 0;\n    te[8] = n13 || 0;\n    te[12] = n14 || 0;\n    te[1] = n21 || 0;\n    te[5] = n22 !== undefined ? n22 : 1;\n    te[9] = n23 || 0;\n    te[13] = n24 || 0;\n    te[2] = n31 || 0;\n    te[6] = n32 || 0;\n    te[10] = n33 !== undefined ? n33 : 1;\n    te[14] = n34 || 0;\n    te[3] = n41 || 0;\n    te[7] = n42 || 0;\n    te[11] = n43 || 0;\n    te[15] = n44 !== undefined ? n44 : 1;\n};\n\nMatrix3D.DEG_TO_RAD = Math.PI / 180;\n\nMatrix3D.prototype = {\n    set: function(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n        var te = this.elements;\n        te[0] = n11;\n        te[4] = n12;\n        te[8] = n13;\n        te[12] = n14;\n        te[1] = n21;\n        te[5] = n22;\n        te[9] = n23;\n        te[13] = n24;\n        te[2] = n31;\n        te[6] = n32;\n        te[10] = n33;\n        te[14] = n34;\n        te[3] = n41;\n        te[7] = n42;\n        te[11] = n43;\n        te[15] = n44;\n        return this;\n    },\n    identity: function() {\n        this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        return this;\n    },\n    multiplyMatrices: function(a, be) {\n        var ae = a.elements;\n        var te = this.elements;\n        var a11 = ae[0],\n            a12 = ae[4],\n            a13 = ae[8],\n            a14 = ae[12];\n        var a21 = ae[1],\n            a22 = ae[5],\n            a23 = ae[9],\n            a24 = ae[13];\n        var a31 = ae[2],\n            a32 = ae[6],\n            a33 = ae[10],\n            a34 = ae[14];\n        var a41 = ae[3],\n            a42 = ae[7],\n            a43 = ae[11],\n            a44 = ae[15];\n\n        var b11 = be[0],\n            b12 = be[1],\n            b13 = be[2],\n            b14 = be[3];\n        var b21 = be[4],\n            b22 = be[5],\n            b23 = be[6],\n            b24 = be[7];\n        var b31 = be[8],\n            b32 = be[9],\n            b33 = be[10],\n            b34 = be[11];\n        var b41 = be[12],\n            b42 = be[13],\n            b43 = be[14],\n            b44 = be[15];\n\n        te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n        te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n        te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n        te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n        te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n        te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n        te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n        te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n        te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n        te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n        te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n        te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n        te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n        te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n        te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n        te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n        return this;\n    },\n    // 解决角度为90的整数倍导致Math.cos得到极小的数，其实是0。导致不渲染\n    _rounded: function(value, i) {\n        i = Math.pow(10, i || 15);\n        // default\n        return Math.round(value * i) / i;\n    },\n    appendTransform: function(\n        x,\n        y,\n        z,\n        scaleX,\n        scaleY,\n        scaleZ,\n        rotateX,\n        rotateY,\n        rotateZ,\n        skewX,\n        skewY,\n        originX,\n        originY,\n        originZ\n    ) {\n        var rx = rotateX * Matrix3D.DEG_TO_RAD;\n        var cosx = this._rounded(Math.cos(rx));\n        var sinx = this._rounded(Math.sin(rx));\n        var ry = rotateY * Matrix3D.DEG_TO_RAD;\n        var cosy = this._rounded(Math.cos(ry));\n        var siny = this._rounded(Math.sin(ry));\n        var rz = rotateZ * Matrix3D.DEG_TO_RAD;\n        var cosz = this._rounded(Math.cos(rz * -1));\n        var sinz = this._rounded(Math.sin(rz * -1));\n\n        this.multiplyMatrices(this, [1, 0, 0, x, 0, cosx, sinx, y, 0, -sinx, cosx, z, 0, 0, 0, 1]);\n\n        this.multiplyMatrices(this, [cosy, 0, siny, 0, 0, 1, 0, 0, -siny, 0, cosy, 0, 0, 0, 0, 1]);\n\n        this.multiplyMatrices(this, [\n            cosz * scaleX,\n            sinz * scaleY,\n            0,\n            0,\n            -sinz * scaleX,\n            cosz * scaleY,\n            0,\n            0,\n            0,\n            0,\n            1 * scaleZ,\n            0,\n            0,\n            0,\n            0,\n            1\n        ]);\n\n        if (skewX || skewY) {\n            this.multiplyMatrices(this, [\n                this._rounded(Math.cos(skewX * Matrix3D.DEG_TO_RAD)),\n                this._rounded(Math.sin(skewX * Matrix3D.DEG_TO_RAD)),\n                0,\n                0,\n                -1 * this._rounded(Math.sin(skewY * Matrix3D.DEG_TO_RAD)),\n                this._rounded(Math.cos(skewY * Matrix3D.DEG_TO_RAD)),\n                0,\n                0,\n                0,\n                0,\n                1,\n                0,\n                0,\n                0,\n                0,\n                1\n            ]);\n        }\n\n        if (originX || originY || originZ) {\n            this.elements[12] -= originX * this.elements[0] + originY * this.elements[4] + originZ * this.elements[8];\n            this.elements[13] -= originX * this.elements[1] + originY * this.elements[5] + originZ * this.elements[9];\n            this.elements[14] -= originX * this.elements[2] + originY * this.elements[6] + originZ * this.elements[10];\n        }\n        return this;\n    }\n};\n\nfunction observe(target, props, callback) {\n    for (var i = 0, len = props.length; i < len; i++) {\n        var prop = props[i];\n        watch(target, prop, callback);\n    }\n}\n\nfunction watch(target, prop, callback) {\n    Object.defineProperty(target, prop, {\n        get: function() {\n            return this['__' + prop];\n        },\n        set: function(value) {\n            if (value !== this['__' + prop]) {\n                this['__' + prop] = value;\n                callback();\n            }\n        }\n    });\n}\n\nexport default function(element) {\n    observe(\n        element,\n        [\n            'translateX',\n            'translateY',\n            'translateZ',\n            'scaleX',\n            'scaleY',\n            'scaleZ',\n            'rotateX',\n            'rotateY',\n            'rotateZ',\n            'skewX',\n            'skewY',\n            'originX',\n            'originY',\n            'originZ'\n        ],\n        function() {\n            var mtx = element.matrix3D\n                .identity()\n                .appendTransform(\n                    element.translateX,\n                    element.translateY,\n                    element.translateZ,\n                    element.scaleX,\n                    element.scaleY,\n                    element.scaleZ,\n                    element.rotateX,\n                    element.rotateY,\n                    element.rotateZ,\n                    element.skewX,\n                    element.skewY,\n                    element.originX,\n                    element.originY,\n                    element.originZ\n                );\n            element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n                'perspective(' +\n                element.perspective +\n                'px) matrix3d(' +\n                Array.prototype.slice.call(mtx.elements).join(',') +\n                ')';\n        }\n    );\n\n    observe(element, ['perspective'], function() {\n        element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n            'perspective(' +\n            element.perspective +\n            'px) matrix3d(' +\n            Array.prototype.slice.call(element.matrix3D.elements).join(',') +\n            ')';\n    });\n\n    element.matrix3D = new Matrix3D();\n    element.perspective = 500;\n    element.scaleX = element.scaleY = element.scaleZ = 1;\n    //由于image自带了x\\y\\z，所有加上translate前缀\n    element.translateX = element.translateY = element.translateZ = element.rotateX = element.rotateY = element.rotateZ = element.skewX = element.skewY = element.originX = element.originY = element.originZ = 0;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport html2canvas from 'html2canvas';\nimport { classNames } from '@nbfe/tools';\nimport AlloyFinger from 'alloyfinger';\nimport { pick } from 'lodash';\nimport { RotateLeft, Close, Confirm } from '../svgIcons';\nimport Transform from './transform';\nimport style from './index.scss';\n\n// setState => promise\nexport const setAsyncState = (context, newState) => {\n    return new Promise(resolve => {\n        context.setState(newState, resolve);\n    });\n};\n\nexport default class ImageEditor extends React.Component {\n    static propTypes = {\n        value: PropTypes.string.isRequired, // 原始图片\n        width: PropTypes.number, // 裁剪区固定: 宽度\n        height: PropTypes.number // 裁剪区固定: 高度\n    };\n\n    static defaultProps = {\n        width: 100,\n        height: 100\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageUrl: '',\n            isCapturing: false // 正在截图\n        };\n        this.imageRef = React.createRef();\n        this.containerRef = React.createRef();\n        this.captureContainerRef = React.createRef();\n        this.imageInstance = null;\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    async componentDidMount() {\n        const { value } = this.props;\n        const { url } = await this.customEvents.getImgaeInfo(value);\n        this.setState(\n            {\n                imageUrl: url\n            },\n            () => {\n                this.customEvents.initAlloyFingerImage();\n            }\n        );\n    }\n\n    getDomEvents() {\n        return {};\n    }\n\n    getCustomEvents() {\n        return {\n            // 获取图片的信息 url, width, height\n            getImgaeInfo: url => {\n                if (url.startsWith('data:image')) {\n                    const { width, height } = this.props;\n                    return { url, width, height };\n                }\n                return new Promise(reslove => {\n                    const img = new Image();\n                    img.setAttribute('crossorigin', 'anonymous');\n                    img.src = url;\n                    img.onload = () => {\n                        const canvas = document.createElement('canvas');\n                        const { width, height } = img;\n                        canvas.width = width;\n                        canvas.height = height;\n                        canvas.getContext('2d').drawImage(img, 0, 0, width, height);\n                        const dataURL = canvas.toDataURL('image/jpeg');\n                        reslove({\n                            url: dataURL,\n                            width,\n                            height\n                        });\n                    };\n                });\n            },\n            // 初始化图片\n            initAlloyFingerImage: () => {\n                const element = this.imageRef.current;\n\n                Transform(element);\n\n                let initScale = 1;\n\n                // eslint-disable-next-line no-new\n                new AlloyFinger(element, {\n                    // 初始化\n                    multipointStart: () => {\n                        initScale = element.scaleX;\n                    },\n                    // 缩放\n                    pinch: e => {\n                        element.scaleX = initScale * e.zoom;\n                        element.scaleY = initScale * e.zoom;\n                    },\n                    // 位移\n                    pressMove: e => {\n                        element.translateX += e.deltaX;\n                        element.translateY += e.deltaY;\n                        e.preventDefault();\n                    }\n                });\n                this.imageInstance = element;\n            },\n            // 确认\n            handleOk: async () => {\n                const data = await this.customEvents.getCaptureData();\n                if (this.props.onOk) {\n                    this.props.onOk(data);\n                }\n            },\n            // 取消\n            handleCancel: () => {\n                if (this.props.onCancel) {\n                    this.props.onCancel();\n                }\n            },\n            // 向左旋转90°\n            handleRotateLeft: () => {\n                this.imageInstance.rotateZ -= 90;\n            },\n            // 重置\n            handleReset: () => {\n                this.imageInstance.rotateZ = 0;\n                this.imageInstance.translateX = 0;\n                this.imageInstance.translateY = 0;\n            },\n            // 裁剪区的样式\n            getCutContainerStyle: () => {\n                const { props } = this;\n                const { width, height } = props;\n                return { width, height };\n            },\n            // 截图\n            getCaptureData: async () => {\n                document.scrollingElement.scrollTop = 0;\n                const elementContainer = this.containerRef.current;\n                const elementCaptureContainer = this.captureContainerRef.current;\n                const [rect] = elementCaptureContainer.getClientRects();\n                await setAsyncState(this, { isCapturing: true });\n                const canvas = await html2canvas(elementContainer, {\n                    useCORS: true,\n                    logging: false,\n                    scale: 1,\n                    allowTaint: false,\n                    foreignObjectRendering: false,\n                    ...pick(rect, ['x', 'y', 'width', 'height'])\n                });\n                const canvasDataUrl = canvas.toDataURL('image/jpg');\n                this.setState({ isCapturing: false });\n                return canvasDataUrl;\n            }\n        };\n    }\n\n    render() {\n        const { state, customEvents } = this;\n        const { isCapturing, imageUrl } = state;\n        return (\n            <div className=\"modal-image-editor\">\n                <div className=\"mask\" />\n                <div className={classNames('wrap', { 'is-capturing': isCapturing })} ref={this.containerRef}>\n                    <div className=\"content\">\n                        <div className=\"image-handler\">\n                            <div className=\"image-handler-wrap\">\n                                <img ref={this.imageRef} src={imageUrl} alt=\"\" />\n                            </div>\n                        </div>\n                        <div\n                            ref={this.captureContainerRef}\n                            className=\"container-cut\"\n                            style={customEvents.getCutContainerStyle()}\n                        >\n                            <div className=\"dashed dashed-h\" />\n                            <div className=\"dashed dashed-v\" />\n                        </div>\n                    </div>\n                    <div className=\"footer\">\n                        <span className=\"icon icon-close\" onClick={customEvents.handleCancel}>\n                            <Close />\n                        </span>\n                        <span className=\"text-reset\" onClick={customEvents.handleReset}>\n                            还原\n                        </span>\n                        <span className=\"icon icon-confirm\" onClick={customEvents.handleOk}>\n                            <Confirm />\n                        </span>\n                        <span className=\"icon icon-rotate\" onClick={customEvents.handleRotateLeft}>\n                            <RotateLeft />\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/demo.9e814f25.jpeg\";","import React, { Component } from 'react';\nimport vConsole from 'vconsole';\nimport { Button, Card, Modal } from 'antd';\nimport { setStyle, setAttrs } from '@nbfe/tools';\nimport { RotateLeft, Close, Confirm } from './svgIcons';\nimport ImageEditor from './ImageEditor';\nimport './app.scss';\nimport AvatarImage from './demo.jpeg';\n\nnew vConsole();\n\nconst avatar = AvatarImage;\n// const avatar = 'http://10.33.78.86:3000/11.png';\n// const avatar = 'http://image1.ljcdn.com/usercenter/images/uc_ehr_avatar/03ae1732-5f81-45b9-aaa7-9192b14308f3.jpg.1131x1600.jpg';\n// const avatar = 'https://img-blog.csdn.net/20180123153116388?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDM5NDAxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast';\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            previewImageUrl: avatar,\n            visibileModal: false\n        };\n        this.elementInputFile = null;\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.elementInputFile);\n    }\n\n    getDomEvents() {\n        return {\n            handleChangeImage: () => {\n                if (this.elementInputFile) {\n                    this.elementInputFile.click();\n                    return;\n                }\n                const { customEvents } = this;\n                const eInput = document.createElement('input');\n                setStyle(eInput, { visibility: 'hidden' });\n                setAttrs(eInput, {\n                    type: 'file',\n                    name: 'shuoshubao-test',\n                    accept: '.png, .jpg, .jpeg'\n                });\n                document.body.appendChild(eInput);\n                eInput.addEventListener('change', customEvents.changeImageListener, false);\n                eInput.click();\n                this.elementInputFile = eInput;\n            }\n        };\n    }\n\n    getCustomEvents() {\n        return {\n            changeImageListener: e => {\n                const [file] = e.target.files;\n                const { name, size, type } = file;\n                const URL = window.URL || window.webkitURL;\n                const imgURL = URL.createObjectURL(file);\n                this.setState(\n                    {\n                        previewImageUrl: imgURL\n                    },\n                    () => {\n                        this.customEvents.showModal();\n                    }\n                );\n            },\n            showModal: () => {\n                this.setState({\n                    visibileModal: true\n                });\n            },\n            handleOk: data => {\n                this.setState({\n                    visibileModal: false\n                });\n                this.setState({\n                    previewImageUrl: data\n                });\n            },\n            handleCancel: () => {\n                this.setState({\n                    visibileModal: false\n                });\n            }\n        };\n    }\n\n    render() {\n        const { state, domEvents, customEvents } = this;\n        const { previewImageUrl, visibileModal } = state;\n        return (\n            <div className=\"app-container\">\n                <Card title=\"Card title\" bordered={false} style={{ width: 300 }}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            domEvents.handleChangeImage();\n                        }}\n                    >\n                        更换照片\n                    </Button>\n                    <div onClick={customEvents.showModal}>\n                        <img src={previewImageUrl} className=\"preview-image\" />\n                    </div>\n                </Card>\n                {visibileModal && (\n                    <ImageEditor\n                        value={previewImageUrl}\n                        width={300}\n                        height={300}\n                        onOk={customEvents.handleOk}\n                        onCancel={customEvents.handleCancel}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}