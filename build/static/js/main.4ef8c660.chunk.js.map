{"version":3,"sources":["svgIcons/index.js","ImageEditor.js","111.jpg","App.js","index.js","transform.js"],"names":["defaultIconConfig","size","fill","RotateLeft","props","config","t","viewBox","version","xmlns","p-id","width","height","d","Confirm","Close","ImageEditor","state","imageUrl","imageRef","React","createRef","containerRef","captureContainerRef","imageInstance","domEvents","getDomEvents","customEvents","getCustomEvents","this","setState","value","element","current","Transform","initScale","AlloyFinger","multipointStart","scaleX","rotate","e","pinch","zoom","scaleY","pressMove","translateX","deltaX","translateY","deltaY","preventDefault","swipe","handleOk","a","getCaptureData","data","onOk","handleCancel","onCancel","handleRotateLeft","rotateZ","handleReset","getCutContainerStyle","elementContainer","elementCaptureContainer","getClientRects","x","y","classList","add","html2canvas","canvas","canvasDataUrl","toDataURL","remove","className","ref","src","style","onClick","Component","defaultProps","vConsole","avatar","AvatarImage","App","previewImageUrl","visibileModal","handleChangeImage","eInput","document","createElement","setStyle","visibility","setAttrs","type","name","accept","body","appendChild","addEventListener","changeImageListener","click","removeChild","file","target","files","imgURL","window","URL","webkitURL","createObjectURL","showModal","title","bordered","ReactDOM","render","StrictMode","getElementById","Matrix3D","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","elements","Float32Array","te","undefined","observe","callback","i","len","length","watch","prop","Object","defineProperty","get","set","DEG_TO_RAD","Math","PI","prototype","identity","multiplyMatrices","be","ae","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","_rounded","pow","round","appendTransform","z","scaleZ","rotateX","rotateY","skewX","skewY","originX","originY","originZ","rx","cosx","cos","sinx","sin","ry","cosy","siny","rz","cosz","sinz","mtx","matrix3D","translateZ","transform","msTransform","OTransform","MozTransform","webkitTransform","perspective","Array","slice","call","join"],"mappings":"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","file":"static/js/main.4ef8c660.chunk.js","sourcesContent":["const defaultIconConfig = { size: 20, fill: '#fff' };\n\nexport const RotateLeft = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843032504\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"2822\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M682.569143 266.221714c25.709714 19.273143 52.297143 11.574857 52.297143-22.308571v-58.697143h1.28c93.001143 0 151.698286 64.292571 151.698285 155.995429 0 56.996571-17.554286 78.445714-18.834285 93.860571-0.438857 11.995429 3.84 19.291429 13.714285 24.009143 13.275429 6.418286 28.708571 0.420571 35.986286-12.013714 13.293714-22.710857 22.710857-60.416 22.710857-106.276572 0-122.569143-81.846857-205.293714-204.854857-205.293714h-1.718857V72.502857c0-34.706286-26.148571-42.422857-52.278857-22.710857L565.577143 135.497143c-19.712 14.573714-19.712 31.286857 0 45.44zM192.713143 993.938286h424.722286c73.270857 0 110.134857-35.145143 110.134857-110.153143v-423.862857c0-74.989714-36.864-110.134857-110.134857-110.134857H192.713143c-73.289143 0-110.134857 35.145143-110.134857 110.134857v423.862857c0 75.008 36.845714 110.153143 110.134857 110.153143z m1.28-69.010286c-29.129143 0-42.422857-11.995429-42.422857-42.422857v-421.302857c0-30.409143 13.293714-42.422857 42.422857-42.422857h422.144c29.568 0 42.422857 12.013714 42.422857 42.422857v421.302857c0 30.427429-12.854857 42.422857-42.422857 42.422857z\"\n                p-id=\"2823\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Confirm = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843505098\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"969\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M448 864a32 32 0 0 1-18.88-6.08l-320-234.24a32 32 0 1 1 37.76-51.52l292.16 213.44 397.76-642.56a32 32 0 0 1 54.4 33.92l-416 672a32 32 0 0 1-21.12 14.4L448 864z\"\n                p-id=\"970\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Close = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843652172\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"1154\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M810.666667 273.493333L750.506667 213.333333 512 451.84 273.493333 213.333333 213.333333 273.493333 451.84 512 213.333333 750.506667 273.493333 810.666667 512 572.16 750.506667 810.666667 810.666667 750.506667 572.16 512z\"\n                p-id=\"1155\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport html2canvas from 'html2canvas';\nimport { Button, Card, Modal } from 'antd';\nimport { setStyle, setAttrs } from '@nbfe/tools';\nimport AlloyFinger from 'alloyfinger';\nimport './transform';\nimport { RotateLeft, Close, Confirm } from './svgIcons';\n\nconst getInitImageContainerStyle = () => {\n    return {\n        rotate: 0, // 旋转角度\n        scale: 1, // 缩放比\n        translateX: 0,\n        translateY: 0\n    };\n};\n\nexport default class ImageEditor extends React.Component {\n    static propTypes = {\n        value: PropTypes.string.isRequired, // 原始图片\n        width: PropTypes.number, // 裁剪区固定: 宽度\n        height: PropTypes.number // 裁剪区固定: 高度\n    };\n\n    static defaultProps = {\n        width: 100,\n        height: 100\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageUrl: ''\n        };\n        this.imageRef = React.createRef();\n        this.containerRef = React.createRef();\n        this.captureContainerRef = React.createRef();\n        this.imageInstance = null;\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    componentDidMount() {\n        this.setState({\n            imageUrl: this.props.value\n        });\n\n        const element = this.imageRef.current;\n\n        Transform(element);\n\n        let initScale = 1;\n\n        new AlloyFinger(element, {\n            // touchStart: () => {},\n            // touchMove: () => {},\n            // touchEnd: () => {},\n            // touchCancel: () => {},\n            // 初始化\n            multipointStart: () => {\n                initScale = element.scaleX;\n            },\n            // multipointEnd: () => {},\n            // tap: () => {},\n            // doubleTap: () => {},\n            // longTap: () => {},\n            // singleTap: () => {},\n            // 旋转\n            rotate: e => {\n                // element.rotateZ += e.angle;\n            },\n            // 缩放\n            pinch: e => {\n                element.scaleX = initScale * e.zoom;\n                element.scaleY = initScale * e.zoom;\n            },\n            // 位移\n            pressMove: e => {\n                element.translateX += e.deltaX;\n                element.translateY += e.deltaY;\n                e.preventDefault();\n            },\n            swipe: e => {}\n        });\n        this.imageInstance = element;\n    }\n\n    getDomEvents() {\n        return {};\n    }\n\n    getCustomEvents() {\n        return {\n            // 确认\n            handleOk: async() => {\n                const data = await this.customEvents.getCaptureData();\n                if (this.props.onOk) {\n                    this.props.onOk(data);\n                }\n            },\n            // 取消\n            handleCancel: () => {\n                if (this.props.onCancel) {\n                    this.props.onCancel();\n                }\n            },\n            // 向左旋转90°\n            handleRotateLeft: () => {\n                this.imageInstance.rotateZ -= 90;\n            },\n            // 重置\n            handleReset: () => {\n                this.imageInstance.rotateZ = 0;\n                this.imageInstance.translateX = 0;\n                this.imageInstance.translateY = 0;\n            },\n            // 裁剪区的样式\n            getCutContainerStyle: () => {\n                const { props } = this;\n                const { width, height } = props;\n                return { width, height };\n            },\n            getCaptureData: async () => {\n                const elementContainer = this.containerRef.current;\n                const elementCaptureContainer = this.captureContainerRef.current;\n                const { x, y, width, height } = elementCaptureContainer.getClientRects()[0];\n                elementContainer.classList.add('is-capturing');\n                const canvas = await html2canvas(elementContainer, { x, y, width, height });\n                const canvasDataUrl = canvas.toDataURL('image/jepg');\n                elementContainer.classList.remove('is-capturing');\n                return canvasDataUrl;\n            }\n        };\n    }\n\n    render() {\n        const { props, state, domEvents, customEvents } = this;\n        const { imageUrl } = state;\n        const { width, height } = props;\n        return (\n            <div className=\"modal-image-editor\">\n                <div className=\"mask\"></div>\n                <div className=\"wrap\" ref={this.containerRef}>\n                    <div className=\"content\">\n                        <div className=\"image-handler\">\n                            <img ref={this.imageRef} src={imageUrl} />\n                        </div>\n                        <div\n                            ref={this.captureContainerRef}\n                            className=\"container-cut\"\n                            style={customEvents.getCutContainerStyle()}\n                        >\n                            <div className=\"dashed dashed-h\"></div>\n                            <div className=\"dashed dashed-v\"></div>\n                        </div>\n                    </div>\n                    <div className=\"footer\">\n                        <span className=\"icon icon-close\" onClick={customEvents.handleCancel}>\n                            <Close />\n                        </span>\n                        <span className=\"text-reset\" onClick={customEvents.handleReset}>\n                            还原\n                        </span>\n                        <span className=\"icon icon-confirm\" onClick={customEvents.handleOk}>\n                            <Confirm />\n                        </span>\n                        <span className=\"icon icon-rotate\" onClick={customEvents.handleRotateLeft}>\n                            <RotateLeft />\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/111.4691fed3.jpg\";","import React, { Component } from 'react';\nimport vConsole from 'vconsole';\nimport { Button, Card, Modal } from 'antd';\nimport { setStyle, setAttrs } from '@nbfe/tools';\nimport { RotateLeft, Close, Confirm } from './svgIcons';\nimport ImageEditor from './ImageEditor';\nimport './app.scss';\nimport AvatarImage from './111.jpg';\n\nnew vConsole();\n\nconst avatar = AvatarImage;\n// const avatar = 'http://10.33.78.86:3000/11.png';\n// const avatar = 'http://image1.ljcdn.com/usercenter/images/uc_ehr_avatar/03ae1732-5f81-45b9-aaa7-9192b14308f3.jpg.1131x1600.jpg';\n// const avatar = 'https://img-blog.csdn.net/20180123153116388?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDM5NDAxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast';\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            previewImageUrl: avatar,\n            visibileModal: false\n        };\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    getDomEvents() {\n        return {\n            handleChangeImage: () => {\n                const { customEvents } = this;\n                const eInput = document.createElement('input');\n                setStyle(eInput, { visibility: 'hidden' });\n                setAttrs(eInput, {\n                    type: 'file',\n                    name: 'shuoshubao-test',\n                    accept: '.png, .jpg, .jpeg'\n                });\n                document.body.appendChild(eInput);\n                eInput.addEventListener('change', customEvents.changeImageListener);\n                eInput.click();\n                document.body.removeChild(eInput);\n            }\n        };\n    }\n    getCustomEvents() {\n        return {\n            changeImageListener: e => {\n                const [file] = e.target.files;\n                const { name, size, type } = file;\n                const URL = window.URL || window.webkitURL;\n                const imgURL = URL.createObjectURL(file);\n                this.setState(\n                    {\n                        previewImageUrl: imgURL\n                    },\n                    () => {\n                        this.customEvents.showModal();\n                    }\n                );\n            },\n            showModal: () => {\n                this.setState({\n                    visibileModal: true\n                });\n            },\n            handleOk: data => {\n                this.setState({\n                    visibileModal: false\n                });\n                this.setState({\n                    previewImageUrl: data\n                });\n            },\n            handleCancel: () => {\n                this.setState({\n                    visibileModal: false\n                });\n            }\n        };\n    }\n\n    render() {\n        const { state, domEvents, customEvents } = this;\n        const { previewImageUrl, visibileModal } = state;\n        return (\n            <div className=\"app-container\">\n                <Card title=\"Card title\" bordered={false} style={{ width: 300 }}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            domEvents.handleChangeImage();\n                        }}\n                    >\n                        更换照片\n                    </Button>\n                    <div onClick={customEvents.showModal}>\n                        <img src={previewImageUrl} className=\"preview-image\" />\n                    </div>\n                </Card>\n                {visibileModal && (\n                    <ImageEditor\n                        value={previewImageUrl}\n                        width={300}\n                        height={300}\n                        onOk={customEvents.handleOk}\n                        onCancel={customEvents.handleCancel}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","/* transformjs\n * By dntzhang\n */\n(function () {\n    var Matrix3D = function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n        this.elements = window.Float32Array ? new Float32Array(16) : [];\n        var te = this.elements;\n        te[0] = n11 !== undefined ? n11 : 1;\n        te[4] = n12 || 0;\n        te[8] = n13 || 0;\n        te[12] = n14 || 0;\n        te[1] = n21 || 0;\n        te[5] = n22 !== undefined ? n22 : 1;\n        te[9] = n23 || 0;\n        te[13] = n24 || 0;\n        te[2] = n31 || 0;\n        te[6] = n32 || 0;\n        te[10] = n33 !== undefined ? n33 : 1;\n        te[14] = n34 || 0;\n        te[3] = n41 || 0;\n        te[7] = n42 || 0;\n        te[11] = n43 || 0;\n        te[15] = n44 !== undefined ? n44 : 1;\n    };\n\n    Matrix3D.DEG_TO_RAD = Math.PI / 180;\n\n    Matrix3D.prototype = {\n        set: function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n            var te = this.elements;\n            te[0] = n11;\n            te[4] = n12;\n            te[8] = n13;\n            te[12] = n14;\n            te[1] = n21;\n            te[5] = n22;\n            te[9] = n23;\n            te[13] = n24;\n            te[2] = n31;\n            te[6] = n32;\n            te[10] = n33;\n            te[14] = n34;\n            te[3] = n41;\n            te[7] = n42;\n            te[11] = n43;\n            te[15] = n44;\n            return this;\n        },\n        identity: function () {\n            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        },\n        multiplyMatrices: function (a, be) {\n            var ae = a.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[4],\n                a13 = ae[8],\n                a14 = ae[12];\n            var a21 = ae[1],\n                a22 = ae[5],\n                a23 = ae[9],\n                a24 = ae[13];\n            var a31 = ae[2],\n                a32 = ae[6],\n                a33 = ae[10],\n                a34 = ae[14];\n            var a41 = ae[3],\n                a42 = ae[7],\n                a43 = ae[11],\n                a44 = ae[15];\n\n            var b11 = be[0],\n                b12 = be[1],\n                b13 = be[2],\n                b14 = be[3];\n            var b21 = be[4],\n                b22 = be[5],\n                b23 = be[6],\n                b24 = be[7];\n            var b31 = be[8],\n                b32 = be[9],\n                b33 = be[10],\n                b34 = be[11];\n            var b41 = be[12],\n                b42 = be[13],\n                b43 = be[14],\n                b44 = be[15];\n\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n            te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n            return this;\n        },\n        // 解决角度为90的整数倍导致Math.cos得到极小的数，其实是0。导致不渲染\n        _rounded: function (value, i) {\n            i = Math.pow(10, i || 15);\n            // default\n            return Math.round(value * i) / i;\n        },\n        appendTransform: function (\n            x,\n            y,\n            z,\n            scaleX,\n            scaleY,\n            scaleZ,\n            rotateX,\n            rotateY,\n            rotateZ,\n            skewX,\n            skewY,\n            originX,\n            originY,\n            originZ\n        ) {\n            var rx = rotateX * Matrix3D.DEG_TO_RAD;\n            var cosx = this._rounded(Math.cos(rx));\n            var sinx = this._rounded(Math.sin(rx));\n            var ry = rotateY * Matrix3D.DEG_TO_RAD;\n            var cosy = this._rounded(Math.cos(ry));\n            var siny = this._rounded(Math.sin(ry));\n            var rz = rotateZ * Matrix3D.DEG_TO_RAD;\n            var cosz = this._rounded(Math.cos(rz * -1));\n            var sinz = this._rounded(Math.sin(rz * -1));\n\n            this.multiplyMatrices(this, [1, 0, 0, x, 0, cosx, sinx, y, 0, -sinx, cosx, z, 0, 0, 0, 1]);\n\n            this.multiplyMatrices(this, [cosy, 0, siny, 0, 0, 1, 0, 0, -siny, 0, cosy, 0, 0, 0, 0, 1]);\n\n            this.multiplyMatrices(this, [\n                cosz * scaleX,\n                sinz * scaleY,\n                0,\n                0,\n                -sinz * scaleX,\n                cosz * scaleY,\n                0,\n                0,\n                0,\n                0,\n                1 * scaleZ,\n                0,\n                0,\n                0,\n                0,\n                1\n            ]);\n\n            if (skewX || skewY) {\n                this.multiplyMatrices(this, [\n                    this._rounded(Math.cos(skewX * Matrix3D.DEG_TO_RAD)),\n                    this._rounded(Math.sin(skewX * Matrix3D.DEG_TO_RAD)),\n                    0,\n                    0,\n                    -1 * this._rounded(Math.sin(skewY * Matrix3D.DEG_TO_RAD)),\n                    this._rounded(Math.cos(skewY * Matrix3D.DEG_TO_RAD)),\n                    0,\n                    0,\n                    0,\n                    0,\n                    1,\n                    0,\n                    0,\n                    0,\n                    0,\n                    1\n                ]);\n            }\n\n            if (originX || originY || originZ) {\n                this.elements[12] -=\n                    originX * this.elements[0] + originY * this.elements[4] + originZ * this.elements[8];\n                this.elements[13] -=\n                    originX * this.elements[1] + originY * this.elements[5] + originZ * this.elements[9];\n                this.elements[14] -=\n                    originX * this.elements[2] + originY * this.elements[6] + originZ * this.elements[10];\n            }\n            return this;\n        }\n    };\n\n    function observe(target, props, callback) {\n        for (var i = 0, len = props.length; i < len; i++) {\n            var prop = props[i];\n            watch(target, prop, callback);\n        }\n    }\n\n    function watch(target, prop, callback) {\n        Object.defineProperty(target, prop, {\n            get: function () {\n                return this['__' + prop];\n            },\n            set: function (value) {\n                if (value !== this['__' + prop]) {\n                    this['__' + prop] = value;\n                    callback();\n                }\n            }\n        });\n    }\n\n    window.Transform = function (element) {\n        observe(\n            element,\n            [\n                'translateX',\n                'translateY',\n                'translateZ',\n                'scaleX',\n                'scaleY',\n                'scaleZ',\n                'rotateX',\n                'rotateY',\n                'rotateZ',\n                'skewX',\n                'skewY',\n                'originX',\n                'originY',\n                'originZ'\n            ],\n            function () {\n                var mtx = element.matrix3D\n                    .identity()\n                    .appendTransform(\n                        element.translateX,\n                        element.translateY,\n                        element.translateZ,\n                        element.scaleX,\n                        element.scaleY,\n                        element.scaleZ,\n                        element.rotateX,\n                        element.rotateY,\n                        element.rotateZ,\n                        element.skewX,\n                        element.skewY,\n                        element.originX,\n                        element.originY,\n                        element.originZ\n                    );\n                element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n                    'perspective(' +\n                    element.perspective +\n                    'px) matrix3d(' +\n                    Array.prototype.slice.call(mtx.elements).join(',') +\n                    ')';\n            }\n        );\n\n        observe(element, ['perspective'], function () {\n            element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n                'perspective(' +\n                element.perspective +\n                'px) matrix3d(' +\n                Array.prototype.slice.call(element.matrix3D.elements).join(',') +\n                ')';\n        });\n\n        element.matrix3D = new Matrix3D();\n        element.perspective = 500;\n        element.scaleX = element.scaleY = element.scaleZ = 1;\n        //由于image自带了x\\y\\z，所有加上translate前缀\n        element.translateX = element.translateY = element.translateZ = element.rotateX = element.rotateY = element.rotateZ = element.skewX = element.skewY = element.originX = element.originY = element.originZ = 0;\n    };\n})();\n"],"sourceRoot":""}