{"version":3,"sources":["svgIcons/index.js","ImageEditor.js","demo.jpeg","App.js","index.js","transform.js"],"names":["defaultIconConfig","size","fill","RotateLeft","props","config","t","viewBox","version","xmlns","p-id","width","height","d","Confirm","Close","getBase64","url","startsWith","Promise","reslove","img","Image","src","onload","canvas","document","createElement","getContext","drawImage","dataURL","toDataURL","ImageEditor","state","imageUrl","imageRef","React","createRef","containerRef","captureContainerRef","imageInstance","domEvents","getDomEvents","customEvents","getCustomEvents","console","log","this","value","setState","element","current","Transform","initScale","AlloyFinger","multipointStart","scaleX","rotate","e","pinch","zoom","scaleY","pressMove","translateX","deltaX","translateY","deltaY","preventDefault","swipe","handleOk","a","getCaptureData","data","onOk","handleCancel","onCancel","handleRotateLeft","rotateZ","handleReset","getCutContainerStyle","elementContainer","elementCaptureContainer","getClientRects","x","y","html2canvas","canvasDataUrl","className","ref","style","onClick","Component","defaultProps","vConsole","avatar","AvatarImage","App","previewImageUrl","visibileModal","elementInputFile","body","removeChild","handleChangeImage","click","eInput","setStyle","visibility","setAttrs","type","name","accept","appendChild","addEventListener","changeImageListener","file","target","files","imgURL","window","URL","webkitURL","createObjectURL","showModal","title","bordered","ReactDOM","render","StrictMode","getElementById","Matrix3D","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","elements","Float32Array","te","undefined","observe","callback","i","len","length","watch","prop","Object","defineProperty","get","set","DEG_TO_RAD","Math","PI","prototype","identity","multiplyMatrices","be","ae","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","_rounded","pow","round","appendTransform","z","scaleZ","rotateX","rotateY","skewX","skewY","originX","originY","originZ","rx","cosx","cos","sinx","sin","ry","cosy","siny","rz","cosz","sinz","mtx","matrix3D","translateZ","transform","msTransform","OTransform","MozTransform","webkitTransform","perspective","Array","slice","call","join"],"mappings":"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","file":"static/js/main.a3116f80.chunk.js","sourcesContent":["const defaultIconConfig = { size: 20, fill: '#fff' };\n\nexport const RotateLeft = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843032504\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"2822\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M682.569143 266.221714c25.709714 19.273143 52.297143 11.574857 52.297143-22.308571v-58.697143h1.28c93.001143 0 151.698286 64.292571 151.698285 155.995429 0 56.996571-17.554286 78.445714-18.834285 93.860571-0.438857 11.995429 3.84 19.291429 13.714285 24.009143 13.275429 6.418286 28.708571 0.420571 35.986286-12.013714 13.293714-22.710857 22.710857-60.416 22.710857-106.276572 0-122.569143-81.846857-205.293714-204.854857-205.293714h-1.718857V72.502857c0-34.706286-26.148571-42.422857-52.278857-22.710857L565.577143 135.497143c-19.712 14.573714-19.712 31.286857 0 45.44zM192.713143 993.938286h424.722286c73.270857 0 110.134857-35.145143 110.134857-110.153143v-423.862857c0-74.989714-36.864-110.134857-110.134857-110.134857H192.713143c-73.289143 0-110.134857 35.145143-110.134857 110.134857v423.862857c0 75.008 36.845714 110.153143 110.134857 110.153143z m1.28-69.010286c-29.129143 0-42.422857-11.995429-42.422857-42.422857v-421.302857c0-30.409143 13.293714-42.422857 42.422857-42.422857h422.144c29.568 0 42.422857 12.013714 42.422857 42.422857v421.302857c0 30.427429-12.854857 42.422857-42.422857 42.422857z\"\n                p-id=\"2823\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Confirm = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843505098\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"969\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M448 864a32 32 0 0 1-18.88-6.08l-320-234.24a32 32 0 1 1 37.76-51.52l292.16 213.44 397.76-642.56a32 32 0 0 1 54.4 33.92l-416 672a32 32 0 0 1-21.12 14.4L448 864z\"\n                p-id=\"970\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n\nexport const Close = (props = {}) => {\n    const config = {...defaultIconConfig, ...props};\n    const { size, fill } = config;\n    return (\n        <svg\n            t=\"1605843652172\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            p-id=\"1154\"\n            width={size}\n            height={size}\n        >\n            <path\n                d=\"M810.666667 273.493333L750.506667 213.333333 512 451.84 273.493333 213.333333 213.333333 273.493333 451.84 512 213.333333 750.506667 273.493333 810.666667 512 572.16 750.506667 810.666667 810.666667 750.506667 572.16 512z\"\n                p-id=\"1155\"\n                fill={fill}\n            ></path>\n        </svg>\n    );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport html2canvas from 'html2canvas';\nimport { Button, Card, Modal } from 'antd';\nimport { setStyle, setAttrs } from '@nbfe/tools';\nimport AlloyFinger from 'alloyfinger';\nimport './transform';\nimport { RotateLeft, Close, Confirm } from './svgIcons';\n\nconst getBase64 = url => {\n    if (url.startsWith('data:image')) {\n        return url;\n    }\n    // 通过构造函数来创建的 img 实例，在赋予 src 值后就会立刻下载图片，相比 createElement() 创建 <img> 省去了 append()，也就避免了文档冗余和污染\n    return new Promise(reslove => {\n        const img = new Image();\n        img.src = url;\n        img.onload = () => {\n            // 要先确保图片完整获取到，这是个异步事件\n            var canvas = document.createElement('canvas'); // 创建canvas元素\n            const { width, height } = img;\n            canvas.width = width;\n            canvas.height = height;\n            canvas.getContext('2d').drawImage(img, 0, 0, width, height); // 将图片绘制到canvas中\n            const dataURL = canvas.toDataURL('image/jpeg'); // 转换图片为dataURL\n            reslove(dataURL);\n        };\n    });\n};\n\nexport default class ImageEditor extends React.Component {\n    static propTypes = {\n        value: PropTypes.string.isRequired, // 原始图片\n        width: PropTypes.number, // 裁剪区固定: 宽度\n        height: PropTypes.number // 裁剪区固定: 高度\n    };\n\n    static defaultProps = {\n        width: 100,\n        height: 100\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageUrl: ''\n        };\n        this.imageRef = React.createRef();\n        this.containerRef = React.createRef();\n        this.captureContainerRef = React.createRef();\n        this.imageInstance = null;\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    async componentDidMount() {\n        console.log('🍍', typeof this.props.value);\n        console.log(this.props.value);\n\n        const imageUrl = await getBase64(this.props.value);\n\n        this.setState({\n            imageUrl\n        });\n\n        const element = this.imageRef.current;\n\n        Transform(element);\n\n        let initScale = 1;\n\n        new AlloyFinger(element, {\n            // touchStart: () => {},\n            // touchMove: () => {},\n            // touchEnd: () => {},\n            // touchCancel: () => {},\n            // 初始化\n            multipointStart: () => {\n                initScale = element.scaleX;\n            },\n            // multipointEnd: () => {},\n            // tap: () => {},\n            // doubleTap: () => {},\n            // longTap: () => {},\n            // singleTap: () => {},\n            // 旋转\n            rotate: e => {\n                // element.rotateZ += e.angle;\n            },\n            // 缩放\n            pinch: e => {\n                element.scaleX = initScale * e.zoom;\n                element.scaleY = initScale * e.zoom;\n            },\n            // 位移\n            pressMove: e => {\n                element.translateX += e.deltaX;\n                element.translateY += e.deltaY;\n                e.preventDefault();\n            },\n            swipe: e => {}\n        });\n        this.imageInstance = element;\n    }\n\n    getDomEvents() {\n        return {};\n    }\n\n    getCustomEvents() {\n        return {\n            // 确认\n            handleOk: async () => {\n                const data = await this.customEvents.getCaptureData();\n                if (this.props.onOk) {\n                    this.props.onOk(data);\n                }\n            },\n            // 取消\n            handleCancel: () => {\n                if (this.props.onCancel) {\n                    this.props.onCancel();\n                }\n            },\n            // 向左旋转90°\n            handleRotateLeft: () => {\n                this.imageInstance.rotateZ -= 90;\n            },\n            // 重置\n            handleReset: () => {\n                this.imageInstance.rotateZ = 0;\n                this.imageInstance.translateX = 0;\n                this.imageInstance.translateY = 0;\n            },\n            // 裁剪区的样式\n            getCutContainerStyle: () => {\n                const { props } = this;\n                const { width, height } = props;\n                return { width, height };\n            },\n            getCaptureData: async () => {\n                const elementContainer = this.containerRef.current;\n                const elementCaptureContainer = this.captureContainerRef.current;\n                const { x, y, width, height } = elementCaptureContainer.getClientRects()[0];\n                console.log({ x, y, width, height });\n                // elementContainer.classList.add('is-capturing');\n                const canvas = await html2canvas(elementContainer, { x, y, width, height });\n                const canvasDataUrl = canvas.toDataURL('image/jepg');\n                // elementContainer.classList.remove('is-capturing');\n                console.log(canvasDataUrl);\n                return canvasDataUrl;\n            }\n        };\n    }\n\n    render() {\n        const { props, state, domEvents, customEvents } = this;\n        const { imageUrl } = state;\n        const { width, height } = props;\n        return (\n            <div className=\"modal-image-editor\">\n                <div className=\"mask\"></div>\n                <div className=\"wrap\" ref={this.containerRef}>\n                    <div className=\"content\">\n                        <div className=\"image-handler\">\n                            <img ref={this.imageRef} src={imageUrl} />\n                        </div>\n                        <div\n                            ref={this.captureContainerRef}\n                            className=\"container-cut\"\n                            style={customEvents.getCutContainerStyle()}\n                        >\n                            <div className=\"dashed dashed-h\"></div>\n                            <div className=\"dashed dashed-v\"></div>\n                        </div>\n                    </div>\n                    <div className=\"footer\">\n                        <span className=\"icon icon-close\" onClick={customEvents.handleCancel}>\n                            <Close />\n                        </span>\n                        <span className=\"text-reset\" onClick={customEvents.handleReset}>\n                            还原\n                        </span>\n                        <span className=\"icon icon-confirm\" onClick={customEvents.handleOk}>\n                            <Confirm />\n                        </span>\n                        <span className=\"icon icon-rotate\" onClick={customEvents.handleRotateLeft}>\n                            <RotateLeft />\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","export default __webpack_public_path__ + \"static/media/demo.9e814f25.jpeg\";","import React, { Component } from 'react';\nimport vConsole from 'vconsole';\nimport { Button, Card, Modal } from 'antd';\nimport { setStyle, setAttrs } from '@nbfe/tools';\nimport { RotateLeft, Close, Confirm } from './svgIcons';\nimport ImageEditor from './ImageEditor';\nimport './app.scss';\nimport AvatarImage from './demo.jpeg';\n\nnew vConsole();\n\nconst avatar = AvatarImage;\n// const avatar = 'http://10.33.78.86:3000/11.png';\n// const avatar = 'http://image1.ljcdn.com/usercenter/images/uc_ehr_avatar/03ae1732-5f81-45b9-aaa7-9192b14308f3.jpg.1131x1600.jpg';\n// const avatar = 'https://img-blog.csdn.net/20180123153116388?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDM5NDAxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast';\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            previewImageUrl: avatar,\n            visibileModal: false\n        };\n        this.elementInputFile = null;\n        this.domEvents = this.getDomEvents();\n        this.customEvents = this.getCustomEvents();\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.elementInputFile);\n    }\n\n    getDomEvents() {\n        return {\n            handleChangeImage: () => {\n                if (this.elementInputFile) {\n                    this.elementInputFile.click();\n                    return;\n                }\n                const { customEvents } = this;\n                const eInput = document.createElement('input');\n                setStyle(eInput, { visibility: 'hidden' });\n                setAttrs(eInput, {\n                    type: 'file',\n                    name: 'shuoshubao-test',\n                    accept: '.png, .jpg, .jpeg'\n                });\n                document.body.appendChild(eInput);\n                eInput.addEventListener('change', customEvents.changeImageListener, false);\n                eInput.click();\n                this.elementInputFile = eInput;\n            }\n        };\n    }\n\n    getCustomEvents() {\n        return {\n            changeImageListener: e => {\n                const [file] = e.target.files;\n                const { name, size, type } = file;\n                const URL = window.URL || window.webkitURL;\n                const imgURL = URL.createObjectURL(file);\n                this.setState(\n                    {\n                        previewImageUrl: imgURL\n                    },\n                    () => {\n                        this.customEvents.showModal();\n                    }\n                );\n            },\n            showModal: () => {\n                this.setState({\n                    visibileModal: true\n                });\n            },\n            handleOk: data => {\n                this.setState({\n                    visibileModal: false\n                });\n                this.setState({\n                    previewImageUrl: data\n                });\n            },\n            handleCancel: () => {\n                this.setState({\n                    visibileModal: false\n                });\n            }\n        };\n    }\n\n    render() {\n        const { state, domEvents, customEvents } = this;\n        const { previewImageUrl, visibileModal } = state;\n        return (\n            <div className=\"app-container\">\n                <Card title=\"Card title\" bordered={false} style={{ width: 300 }}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            domEvents.handleChangeImage();\n                        }}\n                    >\n                        更换照片\n                    </Button>\n                    <div onClick={customEvents.showModal}>\n                        <img src={previewImageUrl} className=\"preview-image\" />\n                    </div>\n                </Card>\n                {visibileModal && (\n                    <ImageEditor\n                        value={previewImageUrl}\n                        width={300}\n                        height={300}\n                        onOk={customEvents.handleOk}\n                        onCancel={customEvents.handleCancel}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","/* transformjs\n * By dntzhang\n */\n(function () {\n    var Matrix3D = function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n        this.elements = window.Float32Array ? new Float32Array(16) : [];\n        var te = this.elements;\n        te[0] = n11 !== undefined ? n11 : 1;\n        te[4] = n12 || 0;\n        te[8] = n13 || 0;\n        te[12] = n14 || 0;\n        te[1] = n21 || 0;\n        te[5] = n22 !== undefined ? n22 : 1;\n        te[9] = n23 || 0;\n        te[13] = n24 || 0;\n        te[2] = n31 || 0;\n        te[6] = n32 || 0;\n        te[10] = n33 !== undefined ? n33 : 1;\n        te[14] = n34 || 0;\n        te[3] = n41 || 0;\n        te[7] = n42 || 0;\n        te[11] = n43 || 0;\n        te[15] = n44 !== undefined ? n44 : 1;\n    };\n\n    Matrix3D.DEG_TO_RAD = Math.PI / 180;\n\n    Matrix3D.prototype = {\n        set: function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n            var te = this.elements;\n            te[0] = n11;\n            te[4] = n12;\n            te[8] = n13;\n            te[12] = n14;\n            te[1] = n21;\n            te[5] = n22;\n            te[9] = n23;\n            te[13] = n24;\n            te[2] = n31;\n            te[6] = n32;\n            te[10] = n33;\n            te[14] = n34;\n            te[3] = n41;\n            te[7] = n42;\n            te[11] = n43;\n            te[15] = n44;\n            return this;\n        },\n        identity: function () {\n            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        },\n        multiplyMatrices: function (a, be) {\n            var ae = a.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[4],\n                a13 = ae[8],\n                a14 = ae[12];\n            var a21 = ae[1],\n                a22 = ae[5],\n                a23 = ae[9],\n                a24 = ae[13];\n            var a31 = ae[2],\n                a32 = ae[6],\n                a33 = ae[10],\n                a34 = ae[14];\n            var a41 = ae[3],\n                a42 = ae[7],\n                a43 = ae[11],\n                a44 = ae[15];\n\n            var b11 = be[0],\n                b12 = be[1],\n                b13 = be[2],\n                b14 = be[3];\n            var b21 = be[4],\n                b22 = be[5],\n                b23 = be[6],\n                b24 = be[7];\n            var b31 = be[8],\n                b32 = be[9],\n                b33 = be[10],\n                b34 = be[11];\n            var b41 = be[12],\n                b42 = be[13],\n                b43 = be[14],\n                b44 = be[15];\n\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n            te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n            return this;\n        },\n        // 解决角度为90的整数倍导致Math.cos得到极小的数，其实是0。导致不渲染\n        _rounded: function (value, i) {\n            i = Math.pow(10, i || 15);\n            // default\n            return Math.round(value * i) / i;\n        },\n        appendTransform: function (\n            x,\n            y,\n            z,\n            scaleX,\n            scaleY,\n            scaleZ,\n            rotateX,\n            rotateY,\n            rotateZ,\n            skewX,\n            skewY,\n            originX,\n            originY,\n            originZ\n        ) {\n            var rx = rotateX * Matrix3D.DEG_TO_RAD;\n            var cosx = this._rounded(Math.cos(rx));\n            var sinx = this._rounded(Math.sin(rx));\n            var ry = rotateY * Matrix3D.DEG_TO_RAD;\n            var cosy = this._rounded(Math.cos(ry));\n            var siny = this._rounded(Math.sin(ry));\n            var rz = rotateZ * Matrix3D.DEG_TO_RAD;\n            var cosz = this._rounded(Math.cos(rz * -1));\n            var sinz = this._rounded(Math.sin(rz * -1));\n\n            this.multiplyMatrices(this, [1, 0, 0, x, 0, cosx, sinx, y, 0, -sinx, cosx, z, 0, 0, 0, 1]);\n\n            this.multiplyMatrices(this, [cosy, 0, siny, 0, 0, 1, 0, 0, -siny, 0, cosy, 0, 0, 0, 0, 1]);\n\n            this.multiplyMatrices(this, [\n                cosz * scaleX,\n                sinz * scaleY,\n                0,\n                0,\n                -sinz * scaleX,\n                cosz * scaleY,\n                0,\n                0,\n                0,\n                0,\n                1 * scaleZ,\n                0,\n                0,\n                0,\n                0,\n                1\n            ]);\n\n            if (skewX || skewY) {\n                this.multiplyMatrices(this, [\n                    this._rounded(Math.cos(skewX * Matrix3D.DEG_TO_RAD)),\n                    this._rounded(Math.sin(skewX * Matrix3D.DEG_TO_RAD)),\n                    0,\n                    0,\n                    -1 * this._rounded(Math.sin(skewY * Matrix3D.DEG_TO_RAD)),\n                    this._rounded(Math.cos(skewY * Matrix3D.DEG_TO_RAD)),\n                    0,\n                    0,\n                    0,\n                    0,\n                    1,\n                    0,\n                    0,\n                    0,\n                    0,\n                    1\n                ]);\n            }\n\n            if (originX || originY || originZ) {\n                this.elements[12] -=\n                    originX * this.elements[0] + originY * this.elements[4] + originZ * this.elements[8];\n                this.elements[13] -=\n                    originX * this.elements[1] + originY * this.elements[5] + originZ * this.elements[9];\n                this.elements[14] -=\n                    originX * this.elements[2] + originY * this.elements[6] + originZ * this.elements[10];\n            }\n            return this;\n        }\n    };\n\n    function observe(target, props, callback) {\n        for (var i = 0, len = props.length; i < len; i++) {\n            var prop = props[i];\n            watch(target, prop, callback);\n        }\n    }\n\n    function watch(target, prop, callback) {\n        Object.defineProperty(target, prop, {\n            get: function () {\n                return this['__' + prop];\n            },\n            set: function (value) {\n                if (value !== this['__' + prop]) {\n                    this['__' + prop] = value;\n                    callback();\n                }\n            }\n        });\n    }\n\n    window.Transform = function (element) {\n        observe(\n            element,\n            [\n                'translateX',\n                'translateY',\n                'translateZ',\n                'scaleX',\n                'scaleY',\n                'scaleZ',\n                'rotateX',\n                'rotateY',\n                'rotateZ',\n                'skewX',\n                'skewY',\n                'originX',\n                'originY',\n                'originZ'\n            ],\n            function () {\n                var mtx = element.matrix3D\n                    .identity()\n                    .appendTransform(\n                        element.translateX,\n                        element.translateY,\n                        element.translateZ,\n                        element.scaleX,\n                        element.scaleY,\n                        element.scaleZ,\n                        element.rotateX,\n                        element.rotateY,\n                        element.rotateZ,\n                        element.skewX,\n                        element.skewY,\n                        element.originX,\n                        element.originY,\n                        element.originZ\n                    );\n                element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n                    'perspective(' +\n                    element.perspective +\n                    'px) matrix3d(' +\n                    Array.prototype.slice.call(mtx.elements).join(',') +\n                    ')';\n            }\n        );\n\n        observe(element, ['perspective'], function () {\n            element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform =\n                'perspective(' +\n                element.perspective +\n                'px) matrix3d(' +\n                Array.prototype.slice.call(element.matrix3D.elements).join(',') +\n                ')';\n        });\n\n        element.matrix3D = new Matrix3D();\n        element.perspective = 500;\n        element.scaleX = element.scaleY = element.scaleZ = 1;\n        //由于image自带了x\\y\\z，所有加上translate前缀\n        element.translateX = element.translateY = element.translateZ = element.rotateX = element.rotateY = element.rotateZ = element.skewX = element.skewY = element.originX = element.originY = element.originZ = 0;\n    };\n})();\n"],"sourceRoot":""}